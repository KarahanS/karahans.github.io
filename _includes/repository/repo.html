{% assign repo_url = include.repository | split: '/' %}

{% if site.data.repositories.github_users contains repo_url.first %}
  {% assign show_owner = false %}
{% else %}
  {% assign show_owner = true %}
{% endif %}

<style>
    .repo {
        display: inline-block;
        vertical-align: top;
        width: calc(50% - 2px);
        margin: 0 1px 0.15rem 1px; /* Reduced vertical spacing further */
    }
    .repo-img-light, .repo-img-dark {
        max-width: 100%;
        height: auto;
    }
    .w-100 {
        width: 100%;
        max-width: 500px; /* Increased from 450px to make cards larger */
    }
  .w-200 {
    width: 100%;
    max-width: 600px; /* Limit maximum width */
  }
  /* Only show appropriate theme based on user's preference */
  @media (prefers-color-scheme: dark) {
    .repo-img-light { display: none; }
  }
  @media (prefers-color-scheme: light) {
    .repo-img-dark { display: none; }
  }
  /* Make repos stack on mobile */
  @media (max-width: 768px) {
    .repo {
      width: 100%;
      margin-left: 0;
      margin-right: 0;
    }
  }
  .p-2 {
    padding: 0.1rem !important;
}

/* Optional: if you want absolutely minimal spacing */
.text-center {
    line-height: 1;
}
</style>

<div class="repo p-2 text-center">
  <a href="https://github.com/{{ include.repository }}">
    <img class="repo-img-light w-100" alt="{{ include.repository }}" src="https://github-readme-stats.vercel.app/api/pin/?username={{ repo_url[0] }}&repo={{ repo_url[1] }}&theme={{ site.repo_theme_light }}&show_owner={{ show_owner }}">
    <img class="repo-img-dark w-100" alt="{{ include.repository }}" src="https://github-readme-stats.vercel.app/api/pin/?username={{ repo_url[0] }}&repo={{ repo_url[1] }}&theme={{ site.repo_theme_dark }}&show_owner={{ show_owner }}">
  </a>
</div>